#!name=ğŸ”Q-Search-All in one
#!desc=Adjust the browser search engine, default serach engine: google

# è«‹å…ˆä¿®æ”¹æœå°‹å¼•æ“è¨­å®šï¼ŒSafari é è¨­æœå°‹å¼•æ“ç‚º Google
# åŸå…ˆæ”¯æ´iPhone iPad Safariï¼Œæ”¯æ´Mac Safari, Chrome, Edgeã€‚
# æœªè¨»æ˜è¡¨ç¤ºæœªç¶“æ¸¬è©¦
# Safariå…§è¼¸å…¥"å‘½ä»¤ + ç©ºæ ¼ + æœå°‹å­—è©æˆ–å…§å®¹"ä¾†æŒ‡å®šæœå°‹æ–¹å¼
# ghï¼š  GitHubæœå°‹
# wiki: è‹±æ–‡ç¶­åŸºç™¾ç§‘
# wk:   ä¸­æ–‡ç¶­åŸºç™¾ç§‘
# rd: Reddit
# bi: Bing å¿…æ‡‰
# ddgï¼šDuckDuckGo æœå°‹
# ç„¡æŒ‡å®šé è¨­ç‚ºGoogle æœå°‹
# Source: https://github.com/DecoAri/Module/blob/main/Surge/Q-Search.sgmodule

[URL Rewrite]
# ghï¼šGitHub
^https:\/\/www\.google.com\/search\?q=gh\+([^&]+).+ https://github.com/search?q=$1 302
^https:\/\/www\.google.com\/search\?client=\w+\&rls=\w+\&q=gh\+([^&]+).+ https://github.com/search?q=$1 302
# wikiï¼šè‹±æ–‡ç¶­åŸºç™¾ç§‘
^https:\/\/www\.google.com\/search\?q=wiki(\+|%20)([^&]+).+ http://wikipedia.org/wiki/$2 302
^https:\/\/www\.google.com\/search\?client=\w+\&rls=\w+\&q=wiki(\+|%20)([^&]+).+ http://wikipedia.org/wiki/$2 302
# wkï¼šä¸­æ–‡ç¶­åŸºç™¾ç§‘
^https:\/\/www\.google.com\/search\?q=wk(\+|%20)([^&]+).+ https://zh.wikipedia.org/wiki/$2 302
^https:\/\/www\.google.com\/search\?client=\w+\&rls=\w+\&q=wk(\+|%20)([^&]+).+ https://zh.wikipedia.org/wiki/$2 302
# rdï¼šReddit
^https:\/\/www\.google.com\/search\?q=rd\+([^&]+).+ https://www.reddit.com/search?q=$1 302
^https:\/\/www\.google.com\/search\?client=\w+\&rls=\w+\&q=rd\+([^&]+).+ https://www.reddit.com/search?q=$1 302
# bi: å¿…æ‡‰æœå°‹
^https:\/\/www\.google.com\/search\?q=bi\+([^&]+).+ https://cn.bing.com/search?q=$1 302
^https:\/\/www\.google.com\/search\?client=\w+\&rls=\w+\&q=bi\+([^&]+).+ https://cn.bing.com/search?q=$1 302
# ddg: DuckDuckGo
^https:\/\/www\.google.com\/search\?q=ddg\+([^&]+).+ https://duckduckgo.com/?ia=about&q=$1 302
^https:\/\/www\.google.com\/search\?client=\w+\&rls=\w+\&q=ddg\+([^&]+).+ https://duckduckgo.com/?ia=about&q=$1 302

[MITM]
hostname = %APPEND% www.google.com